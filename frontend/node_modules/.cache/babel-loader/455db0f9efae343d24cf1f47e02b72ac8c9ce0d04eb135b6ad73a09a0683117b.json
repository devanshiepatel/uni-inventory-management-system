{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\om\\\\Desktop\\\\uims - Copy\\\\frontend\\\\src\\\\pages\\\\Departments.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport RoomCards from './RoomCards';\nimport { FaUserCircle } from 'react-icons/fa';\nimport './Departments.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Departments = () => {\n  _s();\n  const {\n    faculty_id\n  } = useParams();\n  const [departments, setDepartments] = useState([]);\n  const [selectedDepartmentId, setSelectedDepartmentId] = useState(null);\n  useEffect(() => {\n    const fetchAllDepartments = async () => {\n      try {\n        console.log(\"Fetching departments for faculty:\", faculty_id); // Debugging\n        const res = await axios.get(`http://localhost:8800/api/departments/${faculty_id}`);\n        console.log(\"Departments fetched:\", res.data); // Debugging\n        setDepartments(Array.isArray(res.data) ? res.data : []);\n      } catch (err) {\n        console.log(err);\n        setDepartments([]);\n      }\n    };\n    fetchAllDepartments();\n  }, [faculty_id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"departments-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Departments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"departments-nav\",\n      children: departments.map(dept => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `department-tab ${selectedDepartmentId === dept.dept_id ? 'active' : ''}`,\n        onClick: () => {\n          console.log(\"Selected department:\", dept.dept_id); // Debugging\n          setSelectedDepartmentId(dept.dept_id);\n        },\n        children: dept.dept_name\n      }, dept.dept_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"department-content\",\n      children: selectedDepartmentId ? /*#__PURE__*/_jsxDEV(RoomCards, {\n        departmentId: selectedDepartmentId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select a department to view room details.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(Departments, \"FcseTjqBlJrwBFXFv9aljyQLsOg=\", false, function () {\n  return [useParams];\n});\n_c = Departments;\nexport default Departments;\nvar _c;\n$RefreshReg$(_c, \"Departments\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","RoomCards","FaUserCircle","jsxDEV","_jsxDEV","Departments","_s","faculty_id","departments","setDepartments","selectedDepartmentId","setSelectedDepartmentId","fetchAllDepartments","console","log","res","get","data","Array","isArray","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","dept","dept_id","onClick","dept_name","departmentId","_c","$RefreshReg$"],"sources":["C:/Users/om/Desktop/uims - Copy/frontend/src/pages/Departments.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport RoomCards from './RoomCards';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport './Departments.css';\r\n\r\nconst Departments = () => {\r\n    const { faculty_id } = useParams();\r\n    const [departments, setDepartments] = useState([]);\r\n    \r\n    const [selectedDepartmentId, setSelectedDepartmentId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchAllDepartments = async () => {\r\n            try {\r\n                console.log(\"Fetching departments for faculty:\", faculty_id); // Debugging\r\n                const res = await axios.get(`http://localhost:8800/api/departments/${faculty_id}`);\r\n                console.log(\"Departments fetched:\", res.data); // Debugging\r\n                setDepartments(Array.isArray(res.data) ? res.data : []);\r\n            } catch (err) {\r\n                console.log(err);\r\n                setDepartments([]);\r\n            }\r\n        };\r\n        fetchAllDepartments();\r\n    }, [faculty_id]);\r\n\r\n    return (\r\n        <div className=\"departments-container\">\r\n            <h2>Departments</h2>\r\n            <div className=\"departments-nav\">\r\n                {departments.map((dept) => (\r\n                    <div\r\n                        key={dept.dept_id}\r\n                        className={`department-tab ${selectedDepartmentId === dept.dept_id ? 'active' : ''}`}\r\n                        onClick={() => {\r\n                            console.log(\"Selected department:\", dept.dept_id); // Debugging\r\n                            setSelectedDepartmentId(dept.dept_id);\r\n                        }}\r\n                    >\r\n                        {dept.dept_name}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Room Details */}\r\n            <div className=\"department-content\">\r\n                {selectedDepartmentId ? (\r\n                    <RoomCards departmentId={selectedDepartmentId} />\r\n                ) : (\r\n                    <p>Select a department to view room details.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Departments;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}