{"ast":null,"code":"// import React, { useEffect, useState, useContext } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\n// import \"./Rooms.css\";\n// import { AuthContext } from \"../auth/AuthContext\";\n\n// const Rooms = () => {\n//     const [rooms, setRooms] = useState([]);\n//     const navigate = useNavigate();\n//     const { deptId } = useContext(AuthContext); // ✅ Get deptId dynamically\n\n//     useEffect(() => {\n//         if (!deptId) return; // ✅ Avoid fetching if deptId is missing\n\n//         const fetchRooms = async () => {\n//             try {\n//                 const token = localStorage.getItem(\"token\");\n//                 const response = await axios.get(`http://localhost:8800/api/rooms/${deptId}`, {\n//                     headers: { Authorization: `Bearer ${token}` },\n//                 });\n//                 setRooms(response.data);\n//             } catch (error) {\n//                 console.error(\"❌ Error fetching rooms:\", error);\n//             }\n//         };\n\n//         fetchRooms();\n//     }, [deptId]); // ✅ Fetch when deptId changes\n\n//     return (\n//         <div className=\"rooms-container\">\n//             <h2>Rooms in Your Department</h2>\n\n//             <table className=\"rooms-table\">\n//                 <thead>\n//                     <tr>\n//                         <th>Room No.</th>\n//                         <th>Room ID</th>\n//                         <th>Capacity</th>\n//                         <th>Actions</th>\n//                     </tr>\n//                 </thead>\n//                 <tbody>\n//                     {rooms.map((room) => (\n//                         <tr key={room.room_id}>\n//                             <td>{room.room_num}</td>\n//                             <td>{room.room_id}</td>\n//                             <td>{room.capacity}</td>\n//                             <td>\n//                                 <button onClick={() => navigate(`/inventory/${room.room_id}`)}>\n//                                     View Inventory\n//                                 </button>\n//                             </td>\n//                         </tr>\n//                     ))}\n//                 </tbody>\n//             </table>\n//         </div>\n//     );\n// };\n\n// export default Rooms;","map":{"version":3,"names":[],"sources":["C:/Users/om/Desktop/uims - Copy/client/src/pages/Rooms.jsx"],"sourcesContent":["// import React, { useEffect, useState, useContext } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import axios from \"axios\";\r\n// import \"./Rooms.css\";\r\n// import { AuthContext } from \"../auth/AuthContext\";\r\n\r\n// const Rooms = () => {\r\n//     const [rooms, setRooms] = useState([]);\r\n//     const navigate = useNavigate();\r\n//     const { deptId } = useContext(AuthContext); // ✅ Get deptId dynamically\r\n\r\n//     useEffect(() => {\r\n//         if (!deptId) return; // ✅ Avoid fetching if deptId is missing\r\n\r\n//         const fetchRooms = async () => {\r\n//             try {\r\n//                 const token = localStorage.getItem(\"token\");\r\n//                 const response = await axios.get(`http://localhost:8800/api/rooms/${deptId}`, {\r\n//                     headers: { Authorization: `Bearer ${token}` },\r\n//                 });\r\n//                 setRooms(response.data);\r\n//             } catch (error) {\r\n//                 console.error(\"❌ Error fetching rooms:\", error);\r\n//             }\r\n//         };\r\n\r\n//         fetchRooms();\r\n//     }, [deptId]); // ✅ Fetch when deptId changes\r\n\r\n//     return (\r\n//         <div className=\"rooms-container\">\r\n//             <h2>Rooms in Your Department</h2>\r\n\r\n//             <table className=\"rooms-table\">\r\n//                 <thead>\r\n//                     <tr>\r\n//                         <th>Room No.</th>\r\n//                         <th>Room ID</th>\r\n//                         <th>Capacity</th>\r\n//                         <th>Actions</th>\r\n//                     </tr>\r\n//                 </thead>\r\n//                 <tbody>\r\n//                     {rooms.map((room) => (\r\n//                         <tr key={room.room_id}>\r\n//                             <td>{room.room_num}</td>\r\n//                             <td>{room.room_id}</td>\r\n//                             <td>{room.capacity}</td>\r\n//                             <td>\r\n//                                 <button onClick={() => navigate(`/inventory/${room.room_id}`)}>\r\n//                                     View Inventory\r\n//                                 </button>\r\n//                             </td>\r\n//                         </tr>\r\n//                     ))}\r\n//                 </tbody>\r\n//             </table>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default Rooms;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}